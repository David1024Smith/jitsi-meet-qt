{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Jitsi Meet Qt Settings Schema",
    "type": "object",
    "definitions": {
        "resolution": {
            "type": "object",
            "properties": {
                "width": {"type": "integer", "minimum": 160, "maximum": 3840},
                "height": {"type": "integer", "minimum": 120, "maximum": 2160}
            },
            "required": ["width", "height"],
            "additionalProperties": false
        },
        "serverInfo": {
            "type": "object",
            "properties": {
                "url": {"type": "string", "format": "uri"},
                "username": {"type": "string"},
                "credential": {"type": "string"}
            },
            "required": ["url"],
            "additionalProperties": false
        }
    },
    "properties": {
        "application": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 100,
                    "description": "Application name"
                },
                "version": {
                    "type": "string",
                    "pattern": "^\\d+\\.\\d+\\.\\d+$",
                    "description": "Application version in semver format"
                },
                "language": {
                    "type": "string",
                    "enum": ["en", "zh_CN", "ja", "ko", "de", "fr", "es", "ru", "it", "pt"],
                    "default": "en",
                    "description": "Application language"
                },
                "theme": {
                    "type": "string",
                    "enum": ["light", "dark", "auto"],
                    "default": "light",
                    "description": "Application theme"
                },
                "autoStart": {
                    "type": "boolean",
                    "default": false,
                    "description": "Start application automatically on system boot"
                },
                "minimizeToTray": {
                    "type": "boolean",
                    "default": true,
                    "description": "Minimize to system tray instead of taskbar"
                },
                "closeToTray": {
                    "type": "boolean",
                    "default": false,
                    "description": "Close to system tray instead of exiting"
                },
                "checkUpdates": {
                    "type": "boolean",
                    "default": true,
                    "description": "Check for application updates automatically"
                }
            },
            "required": ["name", "version", "language", "theme"],
            "additionalProperties": false
        },
        "conference": {
            "type": "object",
            "properties": {
                "defaultServer": {
                    "type": "string",
                    "format": "uri",
                    "default": "https://meet.jit.si",
                    "description": "Default Jitsi Meet server URL"
                },
                "displayName": {
                    "type": "string",
                    "maxLength": 50,
                    "description": "Default display name for conferences"
                },
                "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Default email address"
                },
                "autoJoinAudio": {
                    "type": "boolean",
                    "default": true,
                    "description": "Automatically join audio when entering conference"
                },
                "autoJoinVideo": {
                    "type": "boolean",
                    "default": true,
                    "description": "Automatically join video when entering conference"
                },
                "startWithAudioMuted": {
                    "type": "boolean",
                    "default": false,
                    "description": "Start with audio muted"
                },
                "startWithVideoMuted": {
                    "type": "boolean",
                    "default": false,
                    "description": "Start with video muted"
                },
                "enableChat": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable chat functionality"
                },
                "enableScreenShare": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable screen sharing functionality"
                },
                "enableRecording": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable recording functionality"
                }
            },
            "required": ["defaultServer"],
            "additionalProperties": false
        },
        "audio": {
            "type": "object",
            "properties": {
                "inputDevice": {
                    "type": "string",
                    "default": "default",
                    "description": "Audio input device ID"
                },
                "outputDevice": {
                    "type": "string",
                    "default": "default",
                    "description": "Audio output device ID"
                },
                "microphoneGain": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 2,
                    "default": 1.0,
                    "description": "Microphone gain level"
                },
                "speakerVolume": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 2,
                    "default": 1.0,
                    "description": "Speaker volume level"
                },
                "enableEchoCancellation": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable echo cancellation"
                },
                "enableNoiseSuppression": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable noise suppression"
                },
                "enableAutoGainControl": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable automatic gain control"
                },
                "sampleRate": {
                    "type": "integer",
                    "enum": [8000, 16000, 22050, 44100, 48000],
                    "default": 48000,
                    "description": "Audio sample rate in Hz"
                },
                "channels": {
                    "type": "integer",
                    "enum": [1, 2],
                    "default": 2,
                    "description": "Number of audio channels"
                }
            },
            "additionalProperties": false
        },
        "video": {
            "type": "object",
            "properties": {
                "inputDevice": {
                    "type": "string",
                    "default": "default",
                    "description": "Video input device ID"
                },
                "resolution": {
                    "$ref": "#/definitions/resolution",
                    "default": {"width": 1280, "height": 720},
                    "description": "Video resolution"
                },
                "frameRate": {
                    "type": "integer",
                    "minimum": 5,
                    "maximum": 60,
                    "default": 30,
                    "description": "Video frame rate in FPS"
                },
                "quality": {
                    "type": "string",
                    "enum": ["low", "medium", "high", "ultra"],
                    "default": "medium",
                    "description": "Video quality preset"
                },
                "enableHardwareAcceleration": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable hardware acceleration for video encoding/decoding"
                },
                "mirrorLocalVideo": {
                    "type": "boolean",
                    "default": true,
                    "description": "Mirror local video display"
                }
            },
            "additionalProperties": false
        },
        "network": {
            "type": "object",
            "properties": {
                "useStun": {
                    "type": "boolean",
                    "default": true,
                    "description": "Use STUN servers for NAT traversal"
                },
                "stunServers": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "format": "uri"
                    },
                    "default": [
                        "stun:stun.l.google.com:19302",
                        "stun:stun1.l.google.com:19302"
                    ],
                    "description": "List of STUN server URLs"
                },
                "useTurn": {
                    "type": "boolean",
                    "default": false,
                    "description": "Use TURN servers for relay"
                },
                "turnServers": {
                    "type": "array",
                    "items": {"$ref": "#/definitions/serverInfo"},
                    "default": [],
                    "description": "List of TURN server configurations"
                },
                "enableP2P": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable peer-to-peer connections"
                },
                "maxBitrate": {
                    "type": "integer",
                    "minimum": 64000,
                    "maximum": 10000000,
                    "default": 2500000,
                    "description": "Maximum bitrate in bps"
                },
                "minBitrate": {
                    "type": "integer",
                    "minimum": 32000,
                    "maximum": 1000000,
                    "default": 150000,
                    "description": "Minimum bitrate in bps"
                }
            },
            "additionalProperties": false
        },
        "ui": {
            "type": "object",
            "properties": {
                "showToolbar": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show application toolbar"
                },
                "showParticipantsList": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show participants list panel"
                },
                "showChatPanel": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show chat panel"
                },
                "enableFullscreen": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable fullscreen mode"
                },
                "windowGeometry": {
                    "type": "object",
                    "properties": {
                        "x": {"type": "integer", "default": 100},
                        "y": {"type": "integer", "default": 100},
                        "width": {"type": "integer", "minimum": 400, "default": 1200},
                        "height": {"type": "integer", "minimum": 300, "default": 800}
                    },
                    "additionalProperties": false,
                    "description": "Main window geometry"
                }
            },
            "additionalProperties": false
        },
        "privacy": {
            "type": "object",
            "properties": {
                "enableAnalytics": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable analytics data collection"
                },
                "enableCrashReports": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable crash report submission"
                },
                "enableUsageStats": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable usage statistics collection"
                }
            },
            "additionalProperties": false
        },
        "advanced": {
            "type": "object",
            "properties": {
                "enableDebugMode": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable debug mode"
                },
                "logLevel": {
                    "type": "string",
                    "enum": ["debug", "info", "warn", "error"],
                    "default": "info",
                    "description": "Application log level"
                },
                "enableMetrics": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable performance metrics collection"
                },
                "customCss": {
                    "type": "string",
                    "maxLength": 10000,
                    "default": "",
                    "description": "Custom CSS styles"
                },
                "customJs": {
                    "type": "string",
                    "maxLength": 10000,
                    "default": "",
                    "description": "Custom JavaScript code"
                }
            },
            "additionalProperties": false
        }
    },
    "required": ["application", "conference"],
    "additionalProperties": false
}
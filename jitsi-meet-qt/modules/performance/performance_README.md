# Performance Module

## æ¦‚è¿°

æ€§èƒ½æ¨¡å—ä¸ºJitsi Meet Qtåº”ç”¨ç¨‹åºæä¾›å…¨é¢çš„æ€§èƒ½ç›‘æ§ã€èµ„æºè·Ÿè¸ªå’Œç³»ç»Ÿä¼˜åŒ–åŠŸèƒ½ã€‚è¯¥æ¨¡å—éµå¾ªæ¨¡å—åŒ–æ¶æ„è®¾è®¡åŸåˆ™ï¼Œæä¾›å¯æ‰©å±•çš„æ€§èƒ½ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚

## ç‰ˆæœ¬ä¿¡æ¯

- **ç‰ˆæœ¬**: 1.0.0
- **å…¼å®¹æ€§**: Qt 5.15+
- **å¹³å°æ”¯æŒ**: Windows, Linux, macOS

## åŠŸèƒ½ç‰¹æ€§

### ğŸ” æ€§èƒ½ç›‘æ§
- **CPUç›‘æ§**: å®æ—¶CPUä½¿ç”¨ç‡ç›‘æ§å’Œå†å²æ•°æ®è®°å½•
- **å†…å­˜ç›‘æ§**: å†…å­˜ä½¿ç”¨æƒ…å†µè·Ÿè¸ªå’Œå†…å­˜æ³„æ¼æ£€æµ‹
- **ç½‘ç»œç›‘æ§**: ç½‘ç»œå¸¦å®½ä½¿ç”¨å’Œè¿æ¥è´¨é‡ç›‘æ§
- **ç³»ç»Ÿç›‘æ§**: ç³»ç»Ÿèµ„æºç»¼åˆç›‘æ§å’ŒæŠ¥å‘Š

### âš¡ æ€§èƒ½ä¼˜åŒ–
- **å¯åŠ¨ä¼˜åŒ–**: åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶é—´ä¼˜åŒ–
- **å†…å­˜ä¼˜åŒ–**: å†…å­˜ä½¿ç”¨ä¼˜åŒ–å’Œåƒåœ¾å›æ”¶
- **æ¸²æŸ“ä¼˜åŒ–**: UIæ¸²æŸ“æ€§èƒ½ä¼˜åŒ–
- **èµ„æºä¼˜åŒ–**: ç³»ç»Ÿèµ„æºä½¿ç”¨ä¼˜åŒ–

### ğŸ“Š æŒ‡æ ‡æ”¶é›†
- **å®æ—¶æŒ‡æ ‡**: å®æ—¶æ€§èƒ½æ•°æ®æ”¶é›†å’Œåˆ†æ
- **å†å²æ•°æ®**: æ€§èƒ½å†å²æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢
- **æŠ¥å‘Šç”Ÿæˆ**: æ€§èƒ½æŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆ
- **é˜ˆå€¼ç›‘æ§**: æ€§èƒ½é˜ˆå€¼ç›‘æ§å’Œå‘Šè­¦

### ğŸ›ï¸ ç”¨æˆ·ç•Œé¢
- **æ€§èƒ½ä»ªè¡¨æ¿**: ç›´è§‚çš„æ€§èƒ½ç›‘æ§ç•Œé¢
- **æŒ‡æ ‡å›¾è¡¨**: å®æ—¶æ€§èƒ½æ•°æ®å¯è§†åŒ–
- **é…ç½®é¢æ¿**: æ€§èƒ½ç›‘æ§å‚æ•°é…ç½®
- **æŠ¥å‘ŠæŸ¥çœ‹**: æ€§èƒ½æŠ¥å‘ŠæŸ¥çœ‹å’Œå¯¼å‡º

## æ¶æ„è®¾è®¡

### åˆ†å±‚æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Performance Module v1.0.0                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“± UIå±‚        â”‚ PerformanceWidget, MetricsChart          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”§ å·¥å…·å±‚      â”‚ PerformanceUtils, MetricsCalculator      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ æ¥å£å±‚      â”‚ IPerformanceMonitor, IResourceTracker    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ­ å·¥å‚å±‚      â”‚ MonitorFactory, OptimizerFactory         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š ç®¡ç†å±‚      â”‚ PerformanceManager - é«˜çº§æ€§èƒ½ç®¡ç†        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”Œ æ ¸å¿ƒå±‚      â”‚ PerformanceModule - åº•å±‚æ€§èƒ½æ§åˆ¶         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»„ä»¶å…³ç³»
```mermaid
graph TB
    subgraph "Performance Module"
        PM[PerformanceManager]
        MC[MetricsCollector]
        
        subgraph "Monitors"
            CPU[CPUMonitor]
            MEM[MemoryMonitor]
            NET[NetworkMonitor]
        end
        
        subgraph "Optimizers"
            SO[StartupOptimizer]
            MO[MemoryOptimizer]
            RO[RenderOptimizer]
        end
        
        subgraph "UI Components"
            PW[PerformanceWidget]
            MCH[MetricsChart]
        end
    end
    
    PM --> MC
    MC --> CPU
    MC --> MEM
    MC --> NET
    PM --> SO
    PM --> MO
    PM --> RO
    PM --> PW
    PW --> MCH
```

## ç›®å½•ç»“æ„

```
modules/performance/
â”œâ”€â”€ performance.pri              # æ¨¡å—é…ç½®æ–‡ä»¶
â”œâ”€â”€ README.md                    # æ¨¡å—æ–‡æ¡£
â”œâ”€â”€ include/                     # æ ¸å¿ƒå¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ PerformanceModule.h     # æ€§èƒ½æ¨¡å—æ ¸å¿ƒ
â”‚   â”œâ”€â”€ PerformanceManager.h    # æ€§èƒ½ç®¡ç†å™¨
â”‚   â””â”€â”€ MetricsCollector.h      # æŒ‡æ ‡æ”¶é›†å™¨
â”œâ”€â”€ src/                        # æ ¸å¿ƒå®ç°
â”‚   â”œâ”€â”€ PerformanceModule.cpp
â”‚   â”œâ”€â”€ PerformanceManager.cpp
â”‚   â””â”€â”€ MetricsCollector.cpp
â”œâ”€â”€ interfaces/                 # æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ IPerformanceMonitor.h   # æ€§èƒ½ç›‘æ§æ¥å£
â”‚   â”œâ”€â”€ IResourceTracker.h      # èµ„æºè·Ÿè¸ªæ¥å£
â”‚   â””â”€â”€ IOptimizer.h            # ä¼˜åŒ–å™¨æ¥å£
â”œâ”€â”€ config/                     # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ PerformanceConfig.h     # æ€§èƒ½é…ç½®ç±»
â”‚   â””â”€â”€ PerformanceConfig.cpp
â”œâ”€â”€ monitors/                   # ç›‘æ§å™¨
â”‚   â”œâ”€â”€ BaseMonitor.h           # ç›‘æ§å™¨åŸºç±»
â”‚   â”œâ”€â”€ CPUMonitor.h            # CPUç›‘æ§å™¨
â”‚   â”œâ”€â”€ MemoryMonitor.h         # å†…å­˜ç›‘æ§å™¨
â”‚   â””â”€â”€ NetworkMonitor.h        # ç½‘ç»œç›‘æ§å™¨
â”œâ”€â”€ optimizers/                 # ä¼˜åŒ–å™¨
â”‚   â”œâ”€â”€ BaseOptimizer.h         # ä¼˜åŒ–å™¨åŸºç±»
â”‚   â”œâ”€â”€ StartupOptimizer.h      # å¯åŠ¨ä¼˜åŒ–å™¨
â”‚   â”œâ”€â”€ MemoryOptimizer.h       # å†…å­˜ä¼˜åŒ–å™¨
â”‚   â””â”€â”€ RenderOptimizer.h       # æ¸²æŸ“ä¼˜åŒ–å™¨
â”œâ”€â”€ widgets/                    # UIç»„ä»¶
â”‚   â”œâ”€â”€ PerformanceWidget.h     # æ€§èƒ½æ˜¾ç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ MetricsChart.h          # æŒ‡æ ‡å›¾è¡¨ç»„ä»¶
â”‚   â””â”€â”€ MonitorWidget.h         # ç›‘æ§ç»„ä»¶
â”œâ”€â”€ utils/                      # å·¥å…·ç±»
â”‚   â”œâ”€â”€ PerformanceUtils.h      # æ€§èƒ½å·¥å…·
â”‚   â””â”€â”€ MetricsCalculator.h     # æŒ‡æ ‡è®¡ç®—å™¨
â”œâ”€â”€ tests/                      # æµ‹è¯•æ¡†æ¶
â”‚   â”œâ”€â”€ PerformanceModuleTest.h
â”‚   â”œâ”€â”€ PerformanceModuleTest.cpp
â”‚   â””â”€â”€ run_tests.sh
â”œâ”€â”€ examples/                   # ç¤ºä¾‹ä»£ç 
â”‚   â”œâ”€â”€ README.md
â”‚   â””â”€â”€ PerformanceExample.cpp
â””â”€â”€ resources/                  # èµ„æºæ–‡ä»¶
    â”œâ”€â”€ performance_resources.qrc
    â”œâ”€â”€ icons/
    â””â”€â”€ styles/
```

## å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ä½¿ç”¨

```cpp
#include "PerformanceModule.h"
#include "PerformanceManager.h"

// åˆå§‹åŒ–æ€§èƒ½æ¨¡å—
PerformanceModule* perfModule = new PerformanceModule();
if (perfModule->initialize()) {
    // è·å–æ€§èƒ½ç®¡ç†å™¨
    PerformanceManager* manager = perfModule->performanceManager();
    
    // å¼€å§‹æ€§èƒ½ç›‘æ§
    manager->startMonitoring();
    
    // è·å–å½“å‰æ€§èƒ½æŒ‡æ ‡
    PerformanceMetrics metrics = manager->getCurrentMetrics();
    qDebug() << "CPU Usage:" << metrics.system.cpuUsage << "%";
    qDebug() << "Memory Usage:" << metrics.system.memoryUsage << "MB";
}
```

### é…ç½®ç¤ºä¾‹

```cpp
#include "PerformanceConfig.h"

PerformanceConfig config;
config.setMonitoringInterval(1000);  // 1ç§’ç›‘æ§é—´éš”
config.setCPUThreshold(80.0);        // CPUä½¿ç”¨ç‡é˜ˆå€¼80%
config.setMemoryThreshold(1024);     // å†…å­˜ä½¿ç”¨é˜ˆå€¼1GB
config.setEnableOptimization(true);  // å¯ç”¨è‡ªåŠ¨ä¼˜åŒ–
```

## ä¾èµ–å…³ç³»

### Qtæ¨¡å—ä¾èµ–
- `Qt Core` - æ ¸å¿ƒåŠŸèƒ½
- `Qt Widgets` - UIç»„ä»¶
- `Qt Charts` - å›¾è¡¨æ˜¾ç¤º
- `Qt Network` - ç½‘ç»œç›‘æ§

### ç³»ç»Ÿä¾èµ–
- **Windows**: `psapi.lib`, `pdh.lib`
- **Linux**: `libprocps`
- **macOS**: `IOKit.framework`, `CoreFoundation.framework`

## é…ç½®é€‰é¡¹

### ç¼–è¯‘æ—¶é…ç½®
```qmake
# å¯ç”¨æ€§èƒ½æ¨¡å—
CONFIG += performance_module

# å¯ç”¨è°ƒè¯•ä¿¡æ¯
CONFIG += performance_debug

# å¯ç”¨ä¼˜åŒ–
CONFIG += performance_optimized
```

### è¿è¡Œæ—¶é…ç½®
```cpp
PerformanceConfig config;
config.setMonitoringEnabled(true);
config.setOptimizationEnabled(true);
config.setReportingEnabled(true);
```

## æ€§èƒ½æŒ‡æ ‡

### ç³»ç»ŸæŒ‡æ ‡
- **CPUä½¿ç”¨ç‡**: å®æ—¶CPUä½¿ç”¨ç™¾åˆ†æ¯”
- **å†…å­˜ä½¿ç”¨**: ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜ä½¿ç”¨æƒ…å†µ
- **ç£ç›˜I/O**: ç£ç›˜è¯»å†™é€Ÿåº¦å’Œä½¿ç”¨ç‡
- **ç½‘ç»œI/O**: ç½‘ç»œå¸¦å®½ä½¿ç”¨æƒ…å†µ

### åº”ç”¨æŒ‡æ ‡
- **å¯åŠ¨æ—¶é—´**: åº”ç”¨ç¨‹åºå¯åŠ¨è€—æ—¶
- **å“åº”æ—¶é—´**: UIå“åº”æ—¶é—´
- **å¸§ç‡**: æ¸²æŸ“å¸§ç‡
- **å†…å­˜æ³„æ¼**: å†…å­˜æ³„æ¼æ£€æµ‹

## ä¼˜åŒ–ç­–ç•¥

### å¯åŠ¨ä¼˜åŒ–
- å»¶è¿ŸåŠ è½½éå…³é”®ç»„ä»¶
- å¹¶è¡Œåˆå§‹åŒ–ç‹¬ç«‹æ¨¡å—
- ç¼“å­˜å¸¸ç”¨èµ„æº

### å†…å­˜ä¼˜åŒ–
- æ™ºèƒ½åƒåœ¾å›æ”¶
- å†…å­˜æ± ç®¡ç†
- èµ„æºå¤ç”¨

### æ¸²æŸ“ä¼˜åŒ–
- å¸§ç‡è‡ªé€‚åº”
- æ¸²æŸ“æ‰¹å¤„ç†
- GPUåŠ é€Ÿ

## æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
# Linux/macOS
cd tests && ./run_tests.sh

# Windows
cd tests && run_tests.bat
```

### æµ‹è¯•è¦†ç›–
- å•å…ƒæµ‹è¯•: 95%+
- é›†æˆæµ‹è¯•: 90%+
- æ€§èƒ½æµ‹è¯•: 100%

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç›‘æ§æ•°æ®ä¸å‡†ç¡®**
   - æ£€æŸ¥ç³»ç»Ÿæƒé™
   - éªŒè¯ç›‘æ§é—´éš”è®¾ç½®
   - ç¡®è®¤å¹³å°å…¼å®¹æ€§

2. **ä¼˜åŒ–æ•ˆæœä¸æ˜æ˜¾**
   - è°ƒæ•´ä¼˜åŒ–å‚æ•°
   - æ£€æŸ¥ç³»ç»Ÿèµ„æº
   - éªŒè¯ä¼˜åŒ–ç­–ç•¥

3. **UIæ˜¾ç¤ºå¼‚å¸¸**
   - æ£€æŸ¥Qt Chartsä¾èµ–
   - éªŒè¯æ•°æ®æ ¼å¼
   - ç¡®è®¤ä¸»é¢˜å…¼å®¹æ€§

### è°ƒè¯•ä¿¡æ¯
```cpp
// å¯ç”¨è°ƒè¯•æ—¥å¿—
PerformanceConfig::setDebugEnabled(true);

// æŸ¥çœ‹è¯¦ç»†æŒ‡æ ‡
PerformanceManager::dumpMetrics();
```

## ç‰ˆæœ¬å†å²

### v1.0.0 (å½“å‰ç‰ˆæœ¬)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- åŸºç¡€æ€§èƒ½ç›‘æ§åŠŸèƒ½
- æ ¸å¿ƒä¼˜åŒ–å™¨å®ç°
- UIç»„ä»¶æ”¯æŒ

## è´¡çŒ®æŒ‡å—

1. éµå¾ªç°æœ‰ä»£ç é£æ ¼
2. æ·»åŠ é€‚å½“çš„æµ‹è¯•ç”¨ä¾‹
3. æ›´æ–°ç›¸å…³æ–‡æ¡£
4. ç¡®ä¿è·¨å¹³å°å…¼å®¹æ€§

## è®¸å¯è¯

æœ¬æ¨¡å—éµå¾ªé¡¹ç›®ä¸»è®¸å¯è¯ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡é¡¹ç›®Issueç³»ç»Ÿè”ç³»å¼€å‘å›¢é˜Ÿã€‚